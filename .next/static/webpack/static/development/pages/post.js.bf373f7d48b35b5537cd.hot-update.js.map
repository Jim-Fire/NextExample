{"version":3,"file":"static/webpack/static/development/pages/post.js.bf373f7d48b35b5537cd.hot-update.js","sources":["webpack:///./pages/post.js"],"sourcesContent":["import Layout from \"../components/Layout.js\";\nimport fetch from \"isomorphic-unfetch\";\n\nclass Post extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n        counter: 0,\n        intervalId: -1\n    };\n  }\n\n  componentDidMount(){\n    const id = setInterval(()=>{\n        this.setState((state, props) => {\n            return {counter: state.counter + 1};\n        });\n    },1000);\n    this.setState({\n        intervalId: id\n    });\n  }\n  componentWillUnmount(){\n    clearInterval(this.state.intervalId);\n  }\n\n  static async getInitialProps(context) {\n    const { id } = context.query;\n    const res = await fetch(`https://api.tvmaze.com/shows/${id}`);\n    const show = await res.json();\n\n    console.log(`Fetched show: ${show.name}`);\n\n    return { show };\n  }\n\n  render() {\n    const { show } = this.props;\n    return (\n      <Layout>\n        <b>Counter: {this.state.counter}</b>\n        <h1>{show.name}</h1>\n        <p>{show.summary.replace(/<[/]?p>/g, \"\")}</p>\n        <img src={show.image.medium} />\n      </Layout>\n    );\n  }\n}\n\nexport default Post;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AACA;AAFA;AAFA;AAMA;AACA;;;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AADA;AAGA;;;AACA;AACA;AACA;;;AAYA;AAAA;AAEA;AAKA;AAAA;AAGA;;;;;;AApBA;;;;;;AACA;;AACA;AACA;;AADA;;AACA;AACA;;AADA;AAEA;AAEA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;;AA/BA;AACA;AA6CA;;;;A","sourceRoot":""}